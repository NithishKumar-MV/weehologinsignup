{"version":3,"sources":["bookanevent.js"],"names":["document","addEventListener","validateDateTime","selectedDate","Date","getElementById","value","selectedTime","selectedDateTime","currentDateTime","alert","toDateString","city","occasion","userName","phoneNumber","emailId","date","time","bookingDetails","fetch","method","body","JSON","headers","then","stringify","console","Content-Type","error","response","json","data","log","preventDefault","storeBookingData","event","bookEvent"],"mappings":"aAAAA,SAASC,iBAAiB,mBAAoB,WA0C1C,SAASC,IACP,IAAIC,EAAe,IAAIC,KAAKJ,SAASK,eAAe,QAAQC,OACxDC,EAAeP,SAASK,eAAe,QAAQC,MAI/CE,EAAmB,IAAIJ,KAIHK,IAAAA,KACtBC,EAAMC,eAAA,IAAAJ,IAGWJ,EAHjBO,MAAM,0CAiBNE,SALmBC,EAAAC,EAAAC,EAAAC,EAAAJ,EAAAK,EAAAC,GAMnBD,IAAIE,EANe,CAOnBD,SAAMA,EAGRJ,SAAAA,EAPEC,YAAaA,EAQfK,QAAMJ,EACJK,KAAQT,EACRU,KAAMC,EACNC,KAAON,GAIDE,MAAA,sBAAA,CACLK,OAAK,OACJH,KAAAC,KAAAG,UAAAP,GACAQ,QAAA,CAVJC,eAYUC,sBAZVJ,KAAA,SAAAK,GAAA,OAAAA,EAAAC,SAkBFN,KAAA,SAAAO,GARML,QAAQM,IAAID,KAHR,MAaFE,SAAAA,GAIRP,QAAAE,MAAAA,KAtCCM,CAAAhC,EAAAI,GAIGM,MAAQ,sCA6BZb,SAASK,eAAe,cAAcJ,iBAAiB,SAAU,SAAUmC,GACzEA,EAAMF,iBAhGZlC,WAEI,IAAAa,EAAAb,SAAqBK,eAAA,YAAAC,MACnBQ,EAAAd,SAAAK,eAAA,QAAAC,MACIO,EAAWb,SAASK,eAAe,gBAAvCC,MACIQ,EAAWd,SAASK,eAAe,SAAQC,MAC3CS,EAAAA,SAAcf,eAASK,QAAeC,MACtCU,EAAOhB,SAAWK,eAAR,QAAAC,MACVM,EAAOZ,SAASK,eAAe,QAAQC,MAM3Cc,MAAM,UAAW,CAAjBA,OAAM,OACJC,QAAQ,CACRG,eAAS,oBAFMF,KAAAC,KAAAG,UAAA,CAKXb,SAAOa,EACTb,SAAUA,EACVC,YAAUA,EACVC,QAAWC,EACXA,KAAOJ,EACPA,KAAMA,EACNK,KAAMA,MAIPQ,KAAK,SAAAK,GAAA,OAACA,EAADC,SAAAN,KAAcK,SAAAA,GAElBH,QAAAM,IAAAD,GACAL,MAAQM,gCAlBZ,MAAA,SAqBSJ,GAELF,QAAQE,MAAMA,GACdnB,MAAM,4CA2DV2B,KAIFrC,SAASK,eAAe,QAAQJ,iBAAiB,SAAUC,GAC3DF,SAASK,eAAe,QAAQJ,iBAAiB,SAAUC","file":"bookanevent.min.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n    // Function to handle booking event form submission\r\n    function bookEvent() {\r\n      // Collect form data\r\n      var occasion = document.getElementById(\"occasion\").value;\r\n      var userName = document.getElementById(\"name\").value;\r\n      var phoneNumber = document.getElementById(\"phone-number\").value;\r\n      var emailId = document.getElementById(\"email\").value;\r\n      var city = document.getElementById(\"city\").value;\r\n      var date = document.getElementById(\"date\").value;\r\n      var time = document.getElementById(\"time\").value;\r\n      // Perform data validation here\r\n  \r\n      // Send data to server-side script using fetch\r\n      fetch(\"/submit\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          occasion: occasion,\r\n          userName: userName,\r\n          phoneNumber: phoneNumber,\r\n          emailId: emailId,\r\n          city: city,\r\n          date: date,\r\n          time: time,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          // Handle success response\r\n          console.log(data);\r\n          alert(\"Event booked successfully!\");\r\n        })\r\n        .catch((error) => {\r\n          // Handle error\r\n          console.error(error);\r\n          alert(\"Error booking event. Please try again.\");\r\n        });\r\n    }\r\n  \r\n    function validateDateTime() {\r\n      var selectedDate = new Date(document.getElementById(\"date\").value);\r\n      var selectedTime = document.getElementById(\"time\").value;\r\n  \r\n      var currentDateTime = new Date();\r\n  \r\n      var selectedDateTime = new Date(\r\n        selectedDate.toDateString() + \" \" + selectedTime\r\n      );\r\n  \r\n      if (selectedDateTime <= currentDateTime) {\r\n        alert(\"Please select a future date and time.\");\r\n      } else {\r\n        // Call a function to store booking data in the database\r\n        storeBookingData(selectedDate, selectedTime);\r\n  \r\n        // You can also proceed with form submission or other actions here\r\n  \r\n        alert(\"Booking data stored successfully.\");\r\n      }\r\n    }\r\n  \r\n    function storeBookingData(occasion, userName, phoneNumber, emailId, city, date, time) {\r\n      var bookingDetails = {\r\n        occasion: occasion,\r\n        userName: userName,\r\n        phoneNumber: phoneNumber,\r\n        emailId: emailId,\r\n        city: city,\r\n        date: date,\r\n        time: time,\r\n      };\r\n  \r\n      // AJAX request to your server to store the data\r\n      fetch(\"/store-booking-data\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(bookingDetails),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          // Handle success response\r\n          console.log(data);\r\n        })\r\n        .catch((error) => {\r\n          // Handle error\r\n          console.error(error);\r\n        });\r\n    }\r\n  \r\n    // Attach the bookEvent function to the form submit event\r\n    document.getElementById(\"event-form\").addEventListener(\"submit\", function (event) {\r\n      event.preventDefault();\r\n      bookEvent();\r\n    });\r\n  \r\n    // Attach the validateDateTime function to the date and time input change events\r\n    document.getElementById(\"date\").addEventListener(\"change\", validateDateTime);\r\n    document.getElementById(\"time\").addEventListener(\"change\", validateDateTime);\r\n  });"]}