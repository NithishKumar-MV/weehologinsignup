{"version":3,"sources":["bookanevent.js"],"names":["document","addEventListener","bookEvent","occasion","getElementById","value","userName","phoneNumber","emailId","city","date","time","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","alert","error","validateDateTime","selectedDate","Date","selectedTime","currentDateTime","selectedDateTime","toDateString","storeBookingData","bookingDetails","event","preventDefault"],"mappings":"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","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n    // Function to handle booking event form submission\r\n    function bookEvent() {\r\n      // Collect form data\r\n      var occasion = document.getElementById(\"occasion\").value;\r\n      var userName = document.getElementById(\"name\").value;\r\n      var phoneNumber = document.getElementById(\"phone-number\").value;\r\n      var emailId = document.getElementById(\"email\").value;\r\n      var city = document.getElementById(\"city\").value;\r\n      var date = document.getElementById(\"date\").value;\r\n      var time = document.getElementById(\"time\").value;\r\n      // Perform data validation here\r\n  \r\n      // Send data to server-side script using fetch\r\n      fetch(\"/submit\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          occasion: occasion,\r\n          userName: userName,\r\n          phoneNumber: phoneNumber,\r\n          emailId: emailId,\r\n          city: city,\r\n          date: date,\r\n          time: time,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          // Handle success response\r\n          console.log(data);\r\n          alert(\"Event booked successfully!\");\r\n        })\r\n        .catch((error) => {\r\n          // Handle error\r\n          console.error(error);\r\n          alert(\"Error booking event. Please try again.\");\r\n        });\r\n    }\r\n  \r\n    function validateDateTime() {\r\n      var selectedDate = new Date(document.getElementById(\"date\").value);\r\n      var selectedTime = document.getElementById(\"time\").value;\r\n  \r\n      var currentDateTime = new Date();\r\n  \r\n      var selectedDateTime = new Date(\r\n        selectedDate.toDateString() + \" \" + selectedTime\r\n      );\r\n  \r\n      if (selectedDateTime <= currentDateTime) {\r\n        alert(\"Please select a future date and time.\");\r\n      } else {\r\n        // Call a function to store booking data in the database\r\n        storeBookingData(selectedDate, selectedTime);\r\n  \r\n        // You can also proceed with form submission or other actions here\r\n  \r\n        alert(\"Booking data stored successfully.\");\r\n      }\r\n    }\r\n  \r\n    function storeBookingData(occasion, userName, phoneNumber, emailId, city, date, time) {\r\n      var bookingDetails = {\r\n        occasion: occasion,\r\n        userName: userName,\r\n        phoneNumber: phoneNumber,\r\n        emailId: emailId,\r\n        city: city,\r\n        date: date,\r\n        time: time,\r\n      };\r\n  \r\n      // AJAX request to your server to store the data\r\n      fetch(\"/store-booking-data\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(bookingDetails),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          // Handle success response\r\n          console.log(data);\r\n        })\r\n        .catch((error) => {\r\n          // Handle error\r\n          console.error(error);\r\n        });\r\n    }\r\n  \r\n    // Attach the bookEvent function to the form submit event\r\n    document.getElementById(\"event-form\").addEventListener(\"submit\", function (event) {\r\n      event.preventDefault();\r\n      bookEvent();\r\n    });\r\n  \r\n    // Attach the validateDateTime function to the date and time input change events\r\n    document.getElementById(\"date\").addEventListener(\"change\", validateDateTime);\r\n    document.getElementById(\"time\").addEventListener(\"change\", validateDateTime);\r\n  });"],"file":"bookanevent.dev.js"}