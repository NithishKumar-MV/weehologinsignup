{"version":3,"sources":["history.js"],"names":["document","addEventListener","fetchBookingHistory","fetch","then","response","json","data","historyDetails","getElementById","innerHTML","length","forEach","booking","bookingDiv","createElement","classList","add","eventDateTime","Date","date","time","formattedDateTime","toLocaleString","occasion","userName","phoneNumber","city","eventName","appendChild","error","console"],"mappings":";;AAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACxD;AACA,WAASC,mBAAT,GAA+B;AAC7BC,IAAAA,KAAK,CAAC,sBAAD,CAAL,CAA8B;AAA9B,KACGC,IADH,CACQ,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KADR,EAEGF,IAFH,CAEQ,UAACG,IAAD,EAAU;AACd,UAAIC,cAAc,GAAGR,QAAQ,CAACS,cAAT,CAAwB,gBAAxB,CAArB;AACAD,MAAAA,cAAc,CAACE,SAAf,GAA2B,EAA3B;;AAEA,UAAIH,IAAI,CAACI,MAAL,KAAgB,CAApB,EAAuB;AACrBH,QAAAA,cAAc,CAACE,SAAf,GAA2B,sCAA3B;AACA;AACD;;AAEDH,MAAAA,IAAI,CAACK,OAAL,CAAa,UAACC,OAAD,EAAa;AACxB,YAAIC,UAAU,GAAGd,QAAQ,CAACe,aAAT,CAAuB,KAAvB,CAAjB;AACAD,QAAAA,UAAU,CAACE,SAAX,CAAqBC,GAArB,CAAyB,cAAzB;AAEA,YAAIC,aAAa,GAAG,IAAIC,IAAJ,CAASN,OAAO,CAACO,IAAR,GAAe,GAAf,GAAqBP,OAAO,CAACQ,IAAtC,CAApB;AACA,YAAIC,iBAAiB,GAAGJ,aAAa,CAACK,cAAd,EAAxB;AAEAT,QAAAA,UAAU,CAACJ,SAAX,kFAC2DY,iBAD3D,6DAEkCT,OAAO,CAACW,QAF1C,8DAGmCX,OAAO,CAACY,QAH3C,iEAIsCZ,OAAO,CAACa,WAJ9C,yDAK8Bb,OAAO,CAACc,IALtC,+DAMoCd,OAAO,CAACe,SAN5C;AASApB,QAAAA,cAAc,CAACqB,WAAf,CAA2Bf,UAA3B;AACD,OAjBD;AAkBD,KA7BH,WA8BS,UAACgB,KAAD,EAAW;AAChBC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD,KAhCH;AAiCD,GApCuD,CAsCxD;;;AACA5B,EAAAA,mBAAmB;AACpB,CAxCD","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  // Function to fetch booking history and populate the DOM\r\n  function fetchBookingHistory() {\r\n    fetch(\"/get-booking-history\") // Replace with your actual endpoint\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        var historyDetails = document.getElementById(\"historyDetails\");\r\n        historyDetails.innerHTML = \"\";\r\n\r\n        if (data.length === 0) {\r\n          historyDetails.innerHTML = \"<p>No booking history available.</p>\";\r\n          return;\r\n        }\r\n\r\n        data.forEach((booking) => {\r\n          var bookingDiv = document.createElement(\"div\");\r\n          bookingDiv.classList.add(\"booking-item\");\r\n\r\n          var eventDateTime = new Date(booking.date + \" \" + booking.time);\r\n          var formattedDateTime = eventDateTime.toLocaleString();\r\n\r\n          bookingDiv.innerHTML = `\r\n            <p><strong>Last Event Booking on (Date&Time):</strong> ${formattedDateTime}</p>\r\n            <p><strong>Occasion:</strong> ${booking.occasion}</p>\r\n            <p><strong>User Name:</strong> ${booking.userName}</p>\r\n            <p><strong>Phone Number:</strong> ${booking.phoneNumber}</p>\r\n            <p><strong>City:</strong> ${booking.city}</p>\r\n            <p><strong>Event Name:</strong> ${booking.eventName}</p>\r\n          `;\r\n\r\n          historyDetails.appendChild(bookingDiv);\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  // Fetch and display booking history on page load\r\n  fetchBookingHistory();\r\n});"],"file":"history.dev.js"}