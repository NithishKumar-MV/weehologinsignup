{"version":3,"sources":["history.js"],"names":["document","addEventListener","fetch","then","fetchBookingHistory","json","data","historyDetails","getElementById","forEach","booking","bookingDiv","createElement","classList","add","date","time","toLocaleString","formattedDateTime","concat","occasion","userName","phoneNumber","city","eventName","appendChild","innerHTML","error","console"],"mappings":"aAAAA,SAASC,iBAAiB,mBAAoB,WAC5CC,MAAA,wBACAC,KAASC,SAAAA,GAAAA,OAAAA,EAAsBC,SAC7BH,KAAM,SAAAI,GACHH,IAAKI,EAAAP,SAAAQ,eAAA,kBAAAD,EAAuBF,UAAvB,GAEiBL,IAAjBO,EAAAA,OAKFD,EAAAG,QAAA,SAAAC,GACD,IAAAC,EAAAX,SAAAY,cAAA,OAICD,EAAWE,UAAUC,IAAI,gBADzB,IACAH,EADiBX,IAASY,KAAAA,EAATG,KAAjB,IAAAL,EAAAM,MACAC,iBAGAN,EAAIO,UAAJ,wEAAAC,OAEAD,EAFA,oDAAAC,OAW2BR,EAA3BS,SAXA,qDAAAD,OALFT,EAAAW,SAKE,wDAAAF,OAccT,EAAAY,YAdd,gDAAAH,OAeFT,EAAAa,KAfE,sDAAAJ,OAhBNT,EAAAc,UAgBM,oBAWAjB,EAAekB,YAAYd,KAvB7BJ,EAAemB,UAAf,yCANN,MAgCW,SAACC,GACNC,QAAQD,MAAMA","file":"history.min.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  // Function to fetch booking history and populate the DOM\r\n  function fetchBookingHistory() {\r\n    fetch(\"/get-booking-history\") // Replace with your actual endpoint\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        var historyDetails = document.getElementById(\"historyDetails\");\r\n        historyDetails.innerHTML = \"\";\r\n\r\n        if (data.length === 0) {\r\n          historyDetails.innerHTML = \"<p>No booking history available.</p>\";\r\n          return;\r\n        }\r\n\r\n        data.forEach((booking) => {\r\n          var bookingDiv = document.createElement(\"div\");\r\n          bookingDiv.classList.add(\"booking-item\");\r\n\r\n          var eventDateTime = new Date(booking.date + \" \" + booking.time);\r\n          var formattedDateTime = eventDateTime.toLocaleString();\r\n\r\n          bookingDiv.innerHTML = `\r\n            <p><strong>Last Event Booking on (Date&Time):</strong> ${formattedDateTime}</p>\r\n            <p><strong>Occasion:</strong> ${booking.occasion}</p>\r\n            <p><strong>User Name:</strong> ${booking.userName}</p>\r\n            <p><strong>Phone Number:</strong> ${booking.phoneNumber}</p>\r\n            <p><strong>City:</strong> ${booking.city}</p>\r\n            <p><strong>Event Name:</strong> ${booking.eventName}</p>\r\n          `;\r\n\r\n          historyDetails.appendChild(bookingDiv);\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  // Fetch and display booking history on page load\r\n  fetchBookingHistory();\r\n});"]}