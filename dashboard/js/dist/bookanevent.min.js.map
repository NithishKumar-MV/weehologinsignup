{"version":3,"sources":["bookanevent.js"],"names":["document","addEventListener","validateDateTime","selectedDate","Date","getElementById","value","selectedTime","selectedDateTime","currentDateTime","alert","toDateString","city","occasion","userName","phoneNumber","emailId","date","time","fetch","method","body","JSON","headers","stringify","bookingDetails","console","log","Content-Type","then","response","json","data","preventDefault","error","storeBookingData","event","bookEvent"],"mappings":"aAAAA,SAASC,iBAAiB,mBAAoB,WA0C5C,SAASC,IACP,IAAIC,EAAe,IAAIC,KAAKJ,SAASK,eAAe,QAAQC,OACxDC,EAAeP,SAASK,eAAe,QAAQC,MAI/CE,EAAgB,IAAGJ,KAIH,IAAIK,KACtBC,EAAMC,eAAA,IAAAJ,IAGWJ,EAHjBO,MAAM,0CAiBNE,SALmBC,EAAAC,EAAAC,EAAAC,EAAAJ,EAAAK,EAAAC,GAMnBD,IAAAA,EANmB,CAOnBC,SAAMA,EAR4EJ,SAWpFA,EAPEC,YAAaA,EAQfI,QAAMH,EACJI,KAAMR,EACNS,KAAMC,EACNC,KAAAA,GAIMJ,MAAA,sBAAA,CAPRC,OAQQ,OACJC,KAAAC,KAAAE,UAAAC,GACAC,QAAQC,CAVZC,eAYS,sBAZTC,KAAA,SAAAC,GAAA,OAAAA,EAAAC,SAkBFF,KAAA,SAAAG,GARMN,QAAQC,IAAIK,KAHR,MAaFC,SAAAA,GAIRP,QAAAQ,MAAAA,KAtCCC,CAAAhC,EAAAI,GAIGM,MAAAA,sCA6BJb,SAASK,eAAe,cAAcJ,iBAAiB,SAAU,SAAUmC,GACzEA,EAAMH,iBAhGVjC,WAEE,IAAAa,EAASwB,SAAYhC,eAAA,YAAAC,MACnBQ,EAAAd,SAAAK,eAAA,QAAAC,MACIO,EAAWb,SAASK,eAAe,gBAAvCC,MACIQ,EAAQd,SAAWK,eAAR,SAAgCC,MAC3CS,EAAAA,SAAcf,eAASK,QAAeC,MACtCU,EAAOhB,SAAGA,eAASK,QAAeC,MAClCM,EAAOZ,SAASK,eAAe,QAAQC,MAM3Ca,MAAM,UAAW,CAAjBA,OAAM,OACJC,QAAQ,CACRG,eAAS,oBAAAF,KAFMC,KAAAE,UAAA,CAKfH,SAAWG,EACTX,SAAUA,EACVC,YAAUA,EACVC,QAAAA,EACAC,KAAAA,EACAJ,KAAMA,EACNK,KAAMA,MAIPY,KAAK,SAAAC,GAAA,OAACA,EAADC,SAAAF,KAAA,SAAcC,GAElBJ,QAAAC,IAAAK,GACAN,MAAQC,gCAlBZ,MAAA,SAAAO,GAuBIR,QAAQQ,MAAMA,GACdxB,MAAM,4CA2DV2B,KAIFrC,SAASK,eAAe,QAAQJ,iBAAiB,SAAUC,GAC3DF,SAASK,eAAe,QAAQJ,iBAAiB,SAAUC","file":"bookanevent.min.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  // Function to handle booking event form submission\r\n  function bookEvent() {\r\n    // Collect form data\r\n    var occasion = document.getElementById(\"occasion\").value;\r\n    var userName = document.getElementById(\"name\").value;\r\n    var phoneNumber = document.getElementById(\"phone-number\").value;\r\n    var emailId = document.getElementById(\"email\").value;\r\n    var city = document.getElementById(\"city\").value;\r\n    var date = document.getElementById(\"date\").value;\r\n    var time = document.getElementById(\"time\").value;\r\n    // Perform data validation here\r\n\r\n    // Send data to server-side script using fetch\r\n    fetch(\"/submit\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        occasion: occasion,\r\n        userName: userName,\r\n        phoneNumber: phoneNumber,\r\n        emailId: emailId,\r\n        city: city,\r\n        date: date,\r\n        time: time,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        // Handle success response\r\n        console.log(data);\r\n        alert(\"Event booked successfully!\");\r\n      })\r\n      .catch((error) => {\r\n        // Handle error\r\n        console.error(error);\r\n        alert(\"Error booking event. Please try again.\");\r\n      });\r\n  }\r\n\r\n  function validateDateTime() {\r\n    var selectedDate = new Date(document.getElementById(\"date\").value);\r\n    var selectedTime = document.getElementById(\"time\").value;\r\n\r\n    var currentDateTime = new Date();\r\n\r\n    var selectedDateTime = new Date(\r\n      selectedDate.toDateString() + \" \" + selectedTime\r\n    );\r\n\r\n    if (selectedDateTime <= currentDateTime) {\r\n      alert(\"Please select a future date and time.\");\r\n    } else {\r\n      // Call a function to store booking data in the database\r\n      storeBookingData(selectedDate, selectedTime);\r\n\r\n      // You can also proceed with form submission or other actions here\r\n\r\n      alert(\"Booking data stored successfully.\");\r\n    }\r\n  }\r\n\r\n  function storeBookingData(occasion, userName, phoneNumber, emailId, city, date, time) {\r\n    var bookingDetails = {\r\n      occasion: occasion,\r\n      userName: userName,\r\n      phoneNumber: phoneNumber,\r\n      emailId: emailId,\r\n      city: city,\r\n      date: date,\r\n      time: time,\r\n    };\r\n\r\n    // AJAX request to your server to store the data\r\n    fetch(\"/store-booking-data\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(bookingDetails),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        // Handle success response\r\n        console.log(data);\r\n      })\r\n      .catch((error) => {\r\n        // Handle error\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  // Attach the bookEvent function to the form submit event\r\n  document.getElementById(\"event-form\").addEventListener(\"submit\", function (event) {\r\n    event.preventDefault();\r\n    bookEvent();\r\n  });\r\n\r\n  // Attach the validateDateTime function to the date and time input change events\r\n  document.getElementById(\"date\").addEventListener(\"change\", validateDateTime);\r\n  document.getElementById(\"time\").addEventListener(\"change\", validateDateTime);\r\n});"]}